{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime/regenerator\";\n\nvar _marked = _regeneratorRuntime.mark(callShopInfoApi),\n    _marked2 = _regeneratorRuntime.mark(callAddProductApi),\n    _marked3 = _regeneratorRuntime.mark(callProductListApi),\n    _marked4 = _regeneratorRuntime.mark(onAddProductSaga),\n    _marked5 = _regeneratorRuntime.mark(onProductListSaga),\n    _marked6 = _regeneratorRuntime.mark(onShopInfoSaga),\n    _marked7 = _regeneratorRuntime.mark(_callee);\n\nimport { all, call, put, takeLatest } from \"redux-saga/effects\";\nimport { getType } from \"typesafe-actions\";\nimport { baseAxios } from \"../../config/axios/instance\";\nimport apiEndpoints from \"../api-endpoints.json\";\nimport * as actions from \"./actions\";\nexport function callShopInfoApi() {\n  var response;\n  return _regeneratorRuntime.wrap(function callShopInfoApi$(_context) {\n    while (1) {\n      switch (_context.prev = _context.next) {\n        case 0:\n          _context.prev = 0;\n          _context.next = 3;\n          return call(baseAxios.get, apiEndpoints.shopInfo);\n\n        case 3:\n          response = _context.sent;\n          _context.next = 6;\n          return put(actions.callShopInfoApi.success(response.data));\n\n        case 6:\n          _context.next = 12;\n          break;\n\n        case 8:\n          _context.prev = 8;\n          _context.t0 = _context[\"catch\"](0);\n          _context.next = 12;\n          return put(actions.callShopInfoApi.failure(_context.t0));\n\n        case 12:\n        case \"end\":\n          return _context.stop();\n      }\n    }\n  }, _marked, null, [[0, 8]]);\n}\nexport function callAddProductApi(action) {\n  var response;\n  return _regeneratorRuntime.wrap(function callAddProductApi$(_context2) {\n    while (1) {\n      switch (_context2.prev = _context2.next) {\n        case 0:\n          _context2.prev = 0;\n          _context2.next = 3;\n          return call(baseAxios.post, apiEndpoints.products, action.payload);\n\n        case 3:\n          response = _context2.sent;\n          _context2.next = 6;\n          return put(actions.callAddProductApi.success(response.data));\n\n        case 6:\n          _context2.next = 12;\n          break;\n\n        case 8:\n          _context2.prev = 8;\n          _context2.t0 = _context2[\"catch\"](0);\n          _context2.next = 12;\n          return put(actions.callAddProductApi.failure(_context2.t0));\n\n        case 12:\n        case \"end\":\n          return _context2.stop();\n      }\n    }\n  }, _marked2, null, [[0, 8]]);\n}\nexport function callProductListApi() {\n  var response;\n  return _regeneratorRuntime.wrap(function callProductListApi$(_context3) {\n    while (1) {\n      switch (_context3.prev = _context3.next) {\n        case 0:\n          _context3.prev = 0;\n          _context3.next = 3;\n          return call(baseAxios.get, apiEndpoints.products);\n\n        case 3:\n          response = _context3.sent;\n          _context3.next = 6;\n          return put(actions.callProductListApi.success(response.data));\n\n        case 6:\n          _context3.next = 12;\n          break;\n\n        case 8:\n          _context3.prev = 8;\n          _context3.t0 = _context3[\"catch\"](0);\n          _context3.next = 12;\n          return put(actions.callProductListApi.failure(_context3.t0));\n\n        case 12:\n        case \"end\":\n          return _context3.stop();\n      }\n    }\n  }, _marked3, null, [[0, 8]]);\n}\nexport function onAddProductSaga() {\n  return _regeneratorRuntime.wrap(function onAddProductSaga$(_context4) {\n    while (1) {\n      switch (_context4.prev = _context4.next) {\n        case 0:\n          _context4.next = 2;\n          return takeLatest(getType(actions.callAddProductApi.request), callAddProductApi);\n\n        case 2:\n        case \"end\":\n          return _context4.stop();\n      }\n    }\n  }, _marked4);\n}\nexport function onProductListSaga() {\n  return _regeneratorRuntime.wrap(function onProductListSaga$(_context5) {\n    while (1) {\n      switch (_context5.prev = _context5.next) {\n        case 0:\n          _context5.next = 2;\n          return takeLatest(getType(actions.callProductListApi.request), callProductListApi);\n\n        case 2:\n        case \"end\":\n          return _context5.stop();\n      }\n    }\n  }, _marked5);\n}\nexport function onShopInfoSaga() {\n  return _regeneratorRuntime.wrap(function onShopInfoSaga$(_context6) {\n    while (1) {\n      switch (_context6.prev = _context6.next) {\n        case 0:\n          _context6.next = 2;\n          return takeLatest(getType(actions.callShopInfoApi.request), callShopInfoApi);\n\n        case 2:\n        case \"end\":\n          return _context6.stop();\n      }\n    }\n  }, _marked6);\n}\nexport default function _callee() {\n  return _regeneratorRuntime.wrap(function _callee$(_context7) {\n    while (1) {\n      switch (_context7.prev = _context7.next) {\n        case 0:\n          _context7.next = 2;\n          return all([call(onAddProductSaga), call(onProductListSaga), call(onShopInfoSaga)]);\n\n        case 2:\n        case \"end\":\n          return _context7.stop();\n      }\n    }\n  }, _marked7);\n}","map":{"version":3,"sources":["/Users/valiant.lamban/Downloads/karosa-native/src/redux/shop/sagas.ts"],"names":["callShopInfoApi","callAddProductApi","callProductListApi","onAddProductSaga","onProductListSaga","onShopInfoSaga","all","call","put","takeLatest","getType","baseAxios","apiEndpoints","actions","get","shopInfo","response","success","data","failure","action","post","products","payload","request"],"mappings":"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","sourcesContent":["import { SagaIterator } from \"@redux-saga/core\";\nimport { AxiosResponse } from \"axios\";\nimport { all, call, put, takeLatest } from \"redux-saga/effects\";\nimport { getType } from \"typesafe-actions\";\n\nimport { baseAxios } from \"../../config/axios/instance\";\nimport apiEndpoints from \"../api-endpoints.json\";\n\nimport * as actions from \"./actions\";\nimport * as models from \"./models\";\n\nexport function* callShopInfoApi(): SagaIterator {\n  try {\n    const response: AxiosResponse<models.ShopInfoResponse> = yield call(\n      baseAxios.get,\n      apiEndpoints.shopInfo\n    );\n\n    yield put(actions.callShopInfoApi.success(response.data));\n  } catch (error) {\n    yield put(actions.callShopInfoApi.failure(error));\n  }\n}\n\nexport function* callAddProductApi(\n  action: ReturnType<typeof actions.callAddProductApi.request>\n): SagaIterator {\n  try {\n    const response: AxiosResponse<models.AddProductResponse> = yield call(\n      baseAxios.post,\n      apiEndpoints.products,\n      action.payload\n    );\n\n    yield put(actions.callAddProductApi.success(response.data));\n  } catch (error) {\n    yield put(actions.callAddProductApi.failure(error));\n  }\n}\n\nexport function* callProductListApi(): SagaIterator {\n  try {\n    const response: AxiosResponse<models.ProductListResponse> = yield call(\n      baseAxios.get,\n      apiEndpoints.products\n    );\n\n    yield put(actions.callProductListApi.success(response.data));\n  } catch (error) {\n    yield put(actions.callProductListApi.failure(error));\n  }\n}\n\nexport function* onAddProductSaga() {\n  yield takeLatest(\n    getType(actions.callAddProductApi.request),\n    callAddProductApi\n  );\n}\n\nexport function* onProductListSaga() {\n  yield takeLatest(\n    getType(actions.callProductListApi.request),\n    callProductListApi\n  );\n}\n\nexport function* onShopInfoSaga() {\n  yield takeLatest(getType(actions.callShopInfoApi.request), callShopInfoApi);\n}\n\nexport default function* () {\n  yield all([\n    call(onAddProductSaga),\n    call(onProductListSaga),\n    call(onShopInfoSaga),\n  ]);\n}\n"]},"metadata":{},"sourceType":"module"}