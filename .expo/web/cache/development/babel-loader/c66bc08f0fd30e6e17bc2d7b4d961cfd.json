{"ast":null,"code":"import _extends from \"@babel/runtime/helpers/extends\";\nimport _defineProperty from \"@babel/runtime/helpers/defineProperty\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nvar _jsxFileName = \"/Users/valiant.lamban/Downloads/karosa-native/src/screens/products/add-wholesale/index.tsx\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport React, { useState, useCallback } from \"react\";\nimport { Header } from \"react-native-elements\";\nimport View from \"react-native-web/dist/exports/View\";\nimport { FormikContext, useFormik } from \"formik\";\nimport { useDispatch } from \"react-redux\";\nimport { useNavigation } from \"@react-navigation/native\";\nimport { theme } from \"../../../styles\";\nimport { Screen } from \"../../../components/base-screen\";\nimport { ListInput } from \"../../../components/list/list-input\";\nimport { SubmitButton } from \"../../../components/formik/submit-button\";\nimport { ListWarning } from \"../../../components/list/list-warning\";\nimport { useMemoizedSelector } from \"../../../hooks\";\nimport { actions, selectors } from \"../../../redux/shop\";\nimport { validationSchema } from \"./validation\";\nimport { styles } from \"./styles\";\n\nvar AddWholesaleScreen = function AddWholesaleScreen() {\n  var dispatch = useDispatch();\n\n  var _useNavigation = useNavigation(),\n      goBack = _useNavigation.goBack;\n\n  var _useState = useState(true),\n      _useState2 = _slicedToArray(_useState, 2),\n      displayWarning = _useState2[0],\n      setDisplayWarning = _useState2[1];\n\n  var screenProps = {\n    customHeader: React.createElement(Header, {\n      containerStyle: {\n        backgroundColor: \"transparent\"\n      },\n      leftComponent: {\n        icon: \"arrow-back\",\n        color: theme.colors.primary,\n        onPress: goBack\n      },\n      centerComponent: {\n        text: \"Add Wholesale\",\n        style: _objectSpread(_objectSpread({}, theme.textRegular), {}, {\n          fontWeight: \"700\",\n          alignSelf: \"center\"\n        })\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 30,\n        columnNumber: 7\n      }\n    }),\n    customStyles: styles.container\n  };\n  var setWholesaleForm = useCallback(function (values) {\n    return dispatch(actions.setWholesaleForm(values));\n  }, [dispatch]);\n  var wholesaleForm = useMemoizedSelector(selectors.getWholesaleForm);\n  var formikBag = useFormik({\n    initialValues: wholesaleForm,\n    validateOnBlur: true,\n    validateOnChange: true,\n    validationSchema: validationSchema,\n    onSubmit: function onSubmit(values) {\n      setWholesaleForm(values);\n      goBack();\n    }\n  });\n\n  var listInput = function listInput(name, label, placeholder, required) {\n    return React.createElement(ListInput, {\n      isRow: true,\n      hasBottomDivider: true,\n      required: required,\n      name: name,\n      label: label,\n      placeholder: placeholder,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 7\n      }\n    });\n  };\n\n  var listIterator = function listIterator(listItems) {\n    return listItems.map(function (item, key) {\n      return React.createElement(React.Fragment, {\n        key: key,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 88,\n          columnNumber: 7\n        }\n      }, item);\n    });\n  };\n\n  var listDisplay = function listDisplay() {\n    var elements = [];\n    var min = listInput(\"min\", \"Minimum Order\", \"Set\", false);\n    var max = listInput(\"max\", \"Maximum Order\", \"Set\", false);\n    var unit = listInput(\"unit\", \"Unit Price\", \"Set Price/Grams\", true);\n    elements.push(min, max, unit);\n    return listIterator(elements);\n  };\n\n  var saveButtonProps = {\n    title: \"Save\"\n  };\n  return React.createElement(FormikContext.Provider, {\n    value: formikBag,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 109,\n      columnNumber: 5\n    }\n  }, React.createElement(Screen, _extends({}, screenProps, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 110,\n      columnNumber: 7\n    }\n  }), displayWarning && React.createElement(ListWarning, {\n    message: \"Wholesale price will be hidden when the product is under promotion.\",\n    onPress: function onPress() {\n      return setDisplayWarning(false);\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 112,\n      columnNumber: 11\n    }\n  }), React.createElement(React.Fragment, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 120,\n      columnNumber: 9\n    }\n  }, listDisplay()), React.createElement(View, {\n    style: styles.buttonContainer,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 122,\n      columnNumber: 9\n    }\n  }, React.createElement(SubmitButton, _extends({}, saveButtonProps, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 123,\n      columnNumber: 11\n    }\n  })))));\n};\n\nexport default AddWholesaleScreen;","map":{"version":3,"sources":["/Users/valiant.lamban/Downloads/karosa-native/src/screens/products/add-wholesale/index.tsx"],"names":["React","useState","useCallback","Header","FormikContext","useFormik","useDispatch","useNavigation","theme","Screen","ListInput","SubmitButton","ListWarning","useMemoizedSelector","actions","selectors","validationSchema","styles","AddWholesaleScreen","dispatch","goBack","displayWarning","setDisplayWarning","screenProps","customHeader","backgroundColor","icon","color","colors","primary","onPress","text","style","textRegular","fontWeight","alignSelf","customStyles","container","setWholesaleForm","values","wholesaleForm","getWholesaleForm","formikBag","initialValues","validateOnBlur","validateOnChange","onSubmit","listInput","name","label","placeholder","required","listIterator","listItems","map","item","key","listDisplay","elements","min","max","unit","push","saveButtonProps","title","buttonContainer"],"mappings":"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","sourcesContent":["import React, { useState, useCallback } from \"react\";\nimport { Header } from \"react-native-elements\";\nimport { View } from \"react-native\";\nimport { FormikContext, useFormik } from \"formik\";\nimport { useDispatch } from \"react-redux\";\nimport { useNavigation } from \"@react-navigation/native\";\nimport { theme } from \"@app/styles\";\nimport { Screen } from \"@app/components/base-screen\";\nimport { ListInput } from \"@app/components/list/list-input\";\nimport { SubmitButton } from \"@app/components/formik/submit-button\";\nimport { ListWarning } from \"@app/components/list/list-warning\";\nimport { Props as ScreenProps } from \"@app/components/base-screen/types\";\nimport { Props as SubmitButtonProps } from \"@app/components/formik/submit-button/types\";\nimport { useMemoizedSelector } from \"@app/hooks\";\nimport { actions, selectors } from \"@app/redux/shop\";\nimport { WholesaleForm } from \"@app/redux/shop/models\";\n\nimport { validationSchema } from \"./validation\";\nimport { styles } from \"./styles\";\n\nconst AddWholesaleScreen: React.FC = () => {\n  const dispatch = useDispatch();\n\n  const { goBack } = useNavigation();\n\n  const [displayWarning, setDisplayWarning] = useState(true);\n\n  const screenProps: ScreenProps = {\n    customHeader: (\n      <Header\n        containerStyle={{ backgroundColor: \"transparent\" }}\n        leftComponent={{\n          icon: \"arrow-back\",\n          color: theme.colors.primary,\n          onPress: goBack,\n        }}\n        centerComponent={{\n          text: \"Add Wholesale\",\n          style: {\n            ...theme.textRegular,\n            fontWeight: \"700\",\n            alignSelf: \"center\",\n          },\n        }}\n      />\n    ),\n    customStyles: styles.container,\n  };\n\n  const setWholesaleForm = useCallback(\n    (values: WholesaleForm) => dispatch(actions.setWholesaleForm(values)),\n    [dispatch]\n  );\n\n  const wholesaleForm = useMemoizedSelector(selectors.getWholesaleForm);\n\n  const formikBag = useFormik({\n    initialValues: wholesaleForm,\n    validateOnBlur: true,\n    validateOnChange: true,\n    validationSchema,\n    onSubmit: (values) => {\n      setWholesaleForm(values);\n      goBack();\n    },\n  });\n\n  const listInput = (\n    name: string,\n    label: string,\n    placeholder: string,\n    required: boolean\n  ): JSX.Element => {\n    return (\n      <ListInput\n        isRow\n        hasBottomDivider\n        required={required}\n        name={name}\n        label={label}\n        placeholder={placeholder}\n      />\n    );\n  };\n\n  const listIterator = (listItems: React.ReactElement[]) => {\n    return listItems.map((item, key) => (\n      <React.Fragment key={key}>{item}</React.Fragment>\n    ));\n  };\n\n  const listDisplay = (): React.ReactElement[] => {\n    const elements: React.ReactElement[] = [];\n\n    const min = listInput(\"min\", \"Minimum Order\", \"Set\", false);\n    const max = listInput(\"max\", \"Maximum Order\", \"Set\", false);\n    const unit = listInput(\"unit\", \"Unit Price\", \"Set Price/Grams\", true);\n\n    elements.push(min, max, unit);\n\n    return listIterator(elements);\n  };\n\n  const saveButtonProps: SubmitButtonProps = {\n    title: \"Save\",\n  };\n\n  return (\n    <FormikContext.Provider value={formikBag}>\n      <Screen {...screenProps}>\n        {displayWarning && (\n          <ListWarning\n            message={\n              \"Wholesale price will be hidden when the product is under promotion.\"\n            }\n            onPress={() => setDisplayWarning(false)}\n          />\n        )}\n\n        <React.Fragment>{listDisplay()}</React.Fragment>\n\n        <View style={styles.buttonContainer}>\n          <SubmitButton {...saveButtonProps} />\n        </View>\n      </Screen>\n    </FormikContext.Provider>\n  );\n};\n\nexport default AddWholesaleScreen;\n"]},"metadata":{},"sourceType":"module"}